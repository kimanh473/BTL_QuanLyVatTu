@model ProductDto
@{
    ViewData["Title"] = "QLVT - Nhập kho vật tư";
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="container-sm mt-5">
            <h4>Thông tin nhập kho</h4>
            <form method="post" enctype="multipart/form-data">
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Mã chứng từ</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="doc_id" />
                        <span asp-validation-for="doc_id" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Mã vật tư</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="product_id" />
                        <span asp-validation-for="product_id" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Tên vật tư</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="product_name" />
                        <span asp-validation-for="product_name" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Loại hàng</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="product_type" />
                        <span asp-validation-for="product_type" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Số lượng</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="quantity" />
                        <span asp-validation-for="quantity" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Đơn vị sản phẩm</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="currency" />
                        <span asp-validation-for="currency" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3">
                    <label class="col-sm-4 col-form-label">Đơn giá</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="import_price" />
                        <span asp-validation-for="import_price" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-2">
                    <label class="col-sm-4 col-form-label">Thành tiền</label>
                    <div class="col-sm-8">
                        <input class="form-control" id="total" asp-for="total" readonly />
                        <span asp-validation-for="total" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-2">
                    <label class="col-sm-4 col-form-label">Người giao</label>
                    <div class="col-sm-8">
                        <input class="form-control"asp-for="deliverer"/>
                        <span asp-validation-for="deliverer" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-2">
                    <label class="col-sm-4 col-form-label">Người nhận</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="receiver" />
                        <span asp-validation-for="receiver" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-2">
                    <label class="col-sm-4 col-form-label">Mô tả/Ghi chú</label>
                    <div class="col-sm-8">
                        <textarea class="form-control" asp-for="note"></textarea>
                        <span asp-validation-for="note" class="text-danger"></span>
                    </div>
                </div>
                <div class="row-mb-3 bottom-2 start-0 w-50 py-5">
                    <div class="container">
                        <div class="row">
                            <div class="col d-grid px-0">
                                <button type="submit" class="btn btn-primary">Lưu</button>
                            </div>
                            <div class="col d-grid">
                                <a class="btn btn-outline-primary" asp-controller="List" asp-action="ListProduct" role="button">Hủy</a>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    // Lấy các phần tử input
                    const quantityInput = document.getElementById("quantity");
                    const importPriceInput = document.getElementById("import_price");
                    const totalInput = document.getElementById("total");

                    // Hàm tính toán giá trị tổng
                    function calculateTotal() {
                        const quantity = parseInt(quantityInput.value) || 0; // Lấy giá trị số lượng
                        const importPrice = parseFloat(importPriceInput.value) || 0; // Lấy giá trị đơn giá
                        const total = quantity * importPrice; // Tính tổng
                        totalInput.value = total.toFixed(0); // Gán giá trị vào trường "total"
                    }

                    // Thêm sự kiện onchange vào các ô nhập liệu
                    quantityInput.addEventListener("input", calculateTotal);
                    importPriceInput.addEventListener("input", calculateTotal);
                });
            </script>
            <style>
                .btn-outline-primary:hover {
                    background-color: dimgrey;
                    border-color: black;
                    color: white;
                }
            </style>
    </body>
}
